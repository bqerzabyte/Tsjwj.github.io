<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" href="/path/to/icon.png">
<meta name="apple-mobile-web-app-title" content="Bqerzala">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<title>Bqerzala Shortcut</title>

<style>
  body { font-family: Arial, sans-serif; text-align:center; padding:50px; }
  #loader { width: 100%; height: 20px; background: #ccc; margin-top:50px; border-radius: 10px; overflow:hidden; display:none; }
  #progress { width:0%; height:100%; background:#4caf50; }
  #addShortcut { display:none; margin-top:30px; }
  #startBtn { padding:15px 25px; font-size:18px; cursor:pointer; border:none; background:#4caf50; color:#fff; border-radius:10px; }
</style>
</head>
<body>

<h1>مرحباً بك في Bqerzala</h1>
<button id="startBtn">ابدأ الآن</button>

<div id="loader">
  <div id="progress"></div>
</div>

<div id="addShortcut">
  <p>تم تفعيل كل شيء! الآن اضغط زر المشاركة واختر "Add to Home Screen" لتثبيت الموقع كتطبيق.</p>
</div>

<script>
const startBtn = document.getElementById('startBtn');
const loader = document.getElementById('loader');
const addShortcut = document.getElementById('addShortcut');

startBtn.addEventListener('click', () => {
    // إخفاء الزر
    startBtn.style.display = 'none';

    // طلب إذن الإشعارات
    if ('Notification' in window) {
        Notification.requestPermission().then(permission => {
            // حتى لو رفض، نستمر بالتحميل الوهمي
            loader.style.display = 'block';

            // progress 5 ثواني
            let width = 0;
            let interval = setInterval(() => {
                width += 2;
                document.getElementById('progress').style.width = width + '%';
                if(width >= 100){
                    clearInterval(interval);
                    loader.style.display = 'none';
                    addShortcut.style.display = 'block';
                }
            }, 100);
        });
    } else {
        // إذا المتصفح لا يدعم الإشعارات
        loader.style.display = 'block';
        let width = 0;
        let interval = setInterval(() => {
            width += 2;
            document.getElementById('progress').style.width = width + '%';
            if(width >= 100){
                clearInterval(interval);
                loader.style.display = 'none';
                addShortcut.style.display = 'block';
            }
        }, 100);
    }
});
</script>

</body>
</html>
